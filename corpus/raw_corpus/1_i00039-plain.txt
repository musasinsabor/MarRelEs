
A PRUEBA 

Programación para Internet 

Una dosis de Java 

El lenguaje de Sun para crear programas para el Web está de moda, pero en muchos aspectos es un extraño brebaje. 

ANDREW SINGLETON

Java, un lenguaje creado para construir aplicaciones destinadas al World Wide Web, constituye un auténtico fenómeno (véase La conexión Java, BYTE 15).
Pero, ¿se van a cumplir las altísimas expectativas levantadas en torno a Java? 
Hemos intentado crear un programa Java sencillo para comprobar si, con este nuevo lenguaje, el Web puede llegar mucho más lejos de lo que ha llegado con el hipertexto HTML.

El lenguaje de Java se parece remotamente a C++.
Los programas Java reciben el nombre de applets y se cargan en los navegadores Web preparados para este lenguaje.
El vocablo applet deriva de la marca HTML « applet » que indica al navegador que tiene que descargar el código Java apropiado.

Los archivos fuente de Java se compilan en archivos .CLASS que contienen bytecode portable.
Las máquinas clientes, tales como los navegadores del Web, ejecutan el bytecode con un emulador o una máquina virtual intérprete.
La máquina virtual es un ordenador con una pila sencilla; los programas están estructurados para permitir que los clientes verifiquen la existencia de referencias ilegales ni errores gramaticales en el código descargado.

La parte cliente cobrará interés con la futura llegada de un compilador just-in- time que, al mismo tiempo que se cargue el bytecode verificado, lo convertirá en código máquina nativo.
Esto mejorará mucho el rendimiento de los applets .

Java ha sido creado como un lenguaje completamente portable que pueda ejecutarse correctamente en cualquier ordenador que descargue uno de sus programas.
Sin embargo, las especificaciones de la mayoría de lenguajes presentan cierta ambigüedad.
Por ejemplo, un compilador C++ puede implementar un tipo de dato int en forma de número binario de 16, 32 o 64 bits, según la máquina que vaya a ejecutarlo.
Esta ambigüedad provoca problemas de portabilidad, dado que Java define con 32 bits el número int para todas las plataformas.
Otras fuentes de ambigüedad en tipos de datos, evaluación de expresiones y sintaxis irán desapareciendo a medida que se vaya completando la especificación del lenguaje.

No es un C++ descafeinado 

Entre Java y C++ existen diferencias importantes e intencionadas.
Para vincular bibliotecas, clases y código referenciado, Java utiliza la sentencia import packagename .
Ésta efectúa tanto una instrucción include , para definir las clases durante la compilación, como una load/link durante la ejecución.
Las clases importadas pueden importar a su vez otras clases, y así en adelante.

Java carga todo el código de forma dinámica durante la ejecución y lo hace clase por clase.
Cuando Java compila un archivo fuente, cada clase se sitúa en un archivo .CLASS aparte.
Todas las funciones deben ser métodos de algunas clases.
Por ejemplo, las funciones matemáticas, como la función trigonométrica sinusoidal, se implementan como métodos de la clase Math .

Por lo que se refiere a la manipulación de objetos, Java se comporta en cierto modo como BASIC o como un intérprete Lisp.
Para obtener un nuevo objeto, basta con teclear la sentencia xxx .
Ésta proporciona uno de los objetos del revoltijo de Java.
La operación de eliminación o borrado no existe, puesto que un «recogedor de basura» se ocupa de este trabajo.

Tampoco se dispone de acceso directo a regiones de memoria, por lo que no es posible ubicar memoria on-line ni se pueden utilizar punteros de tipo C.

En Java la herencia se implementa con la palabra clave extends --véase el listado Uso de extends para implementar la herencia--, pero no existe soporte para la herencia múltiple.
Para activar algoritmos que operen sobre tipos diferentes, Java utiliza interfaces o conjuntos enumerados de métodos.
Las interfaces constituyen enlaces más débiles que las plantillas y herencias del C y proporcionan una mayor probabilidad de implementar con éxito clases polimórficas.

La biblioteca estándar de Java empezó siendo muy pequeña pero crece a gran velocidad.
Implementa las funciones matemáticas y de E/S de la biblioteca C estándar, con algunos tipos de datos, como pueden ser Integer, String y Hash Table con sus métodos asociados, hebras, sockets y una interfaz gráfica de usuario denominada AWT.

Kit de desarrollo 

Hemos descargado la especificación preliminar del lenguaje y el JDK ( Java Development Kit ) del servidor de Sun Microsystems en http://java.sun.com .
Sun suministra el JDK de forma gratuita en versiones para Win32 y Solaris.

También hemos descargado la versión beta 4 del navegador Web Netscape Navigator 2.0.
Netscape Navigator 2.0 es el primer navegador importante del Web que contiene un intérprete para applets Java.

El JDK va acompañado de un compilador Java (llamado javac ), una versión alfa, experimental, del depurador ( debugger ) de Java, un intérprete de aplicaciones Java y un visualizador de applets que puede ejecutar applets sin necesidad de ningún navegador preparado para Java.
El JDK es un entorno un tanto primitivo que está orientado al carácter.
Afortunadamente, Borland, Symantec y otras empresas han anunciado su intención de comercializar entornos de desarrollo gráfico más sofisticados.

El depurador experimental es un programa que utiliza la línea de instrucciones con una única consola de salida.
El usuario tiene que controlar las hebras por su número y los objetos mediante un ID de 32 bits.
El depurador incluye puntos de ruptura, pero no permite la ejecución paso a paso.
Al probar la versión Windows, el depurador ha dejado colgadas hebras y ventanas.

En nuestra opinión, este depurador es inservible y pronto recurrimos al primitivo sistema de depuración consistente en incluir sentencias de impresión en los puntos estratégicos de nuestro código.
Incluso cuando se ejecutan aplicaciones gráficas, Java proporciona una consola en modo línea que resulta adecuada para depurar.

El depurador javac ha funcionado bien en nuestras pruebas, convirtiendo archivos fuente .java en archivos de bytecode .class apropiados para intérprete de Java, para el visualizador de applets y para Netscape Navigator 2.0.
En las pruebas, el depurador ha generado mensajes de error útiles acerca de nuestras innumerables equivocaciones en el código fuente, detectando también algunos problemas referentes a variables no inicializadas.

El visualizador de applets ejecuta estos programas igual que si se les llamara desde un navegador Web.

Necesita un archivo HTML que incluya la marca <applet> y los parámetros.
El visualizador de applets constituye una implementación de Java mucho más completa que la versión beta de Netscape 2.0 y, además, se halla integrada con el depurador.

La documentación suministrada por Sun incluye la especificación del lenguaje Java y un listado exhaustivo de las clases y métodos de la biblioteca Java en formato PostScript.
No incluye ningún tutorial que explique lo que hacen los métodos ni cómo se puede enlazarlos, por lo que nos hemos visto obligados a pasar mucho tiempo con las aplicaciones de ejemplo proporcionadas por Sun y por los programadores que trabajan de cara a Internet.

El programa 

En nuestras pruebas, hemos ejecutado la versión Win32 del JDK en una máquina Windows 95.
Hemos creado un applet sencillo de prueba consistente en un programa de ayuda desplegable, con la intención de utilizar las características de objeto de Java para crear una subclase de estos cuadros desplegables y utilizarlos en futuras aplicaciones más complejas.

Para empezar, hemos seleccionado un componente de lista de la biblioteca awt gui de Java para que dar soporte a la ayuda desplegable.
Después hemos creado una clase de marco flotante para rodear a dicho componente (véase el listado Uso de extends para implementar la herencia).
En vez de empezar a partir de un applet navegador, cuyos límites resultan a veces algo restrictivos, hemos creado una pequeña aplicación para ejecutarse desde la línea de mandatos del intérprete Java, de forma que llamara a FramedTextList para la depuración.
Como aplicación, el marco emerge correctamente por encima de la consola de la línea de mandatos.

Otro inconveniente, que hemos encontrado al analizar el producto, es el tamaño del cuadro de lista para configurar el tamaño del marco.
No hay ninguna indicación de cómo calcularlo.
En nuestra máquina NT, los componentes AWT resultaban poco atractivos.
Los marcos flotantes se apilaban unos sobre otros en el margen superior izquierdo de la pantalla.
A semejanza de otros muchos applets de prueba, los nuestros se parecían más a un trabajo de prácticas de unos alumnos de bachillerato que al de un equipo de profesionales muy cualificados.

Por el lado positivo, debemos señalar que el gestor de memoria de Java permite utilizar un marco sin necesidad de borrar previamente el objeto de lista utilizado para construirlo.

En C++ esto hubiera originado una situación comprometida.

A continuación, añadimos una clase FramedURL para recuperar el texto de una URL e insertarlo en un cuadro (véase el listado Crear un objeto a partir de texto de una URL ).

Java dispone de soporte nativo para redes basadas en sockets , que incluye una clase para URLconnection .
Java requiere una operación de «probar» y «capturar» para detectar cualquier acción que pudiera generar un error de ejecución.
A continuación, construimos un applet llamado PopNetHelp para ejecutarlo desde un navegador.

La interfaz de este applet tiene la apariencia externa era la de un botón (véase el listado Nuestro applet PopNetHelp ).

Luego hemos creado un archivo de prueba HTML con la marca siguiente:

&lsqb;Help Button&rsqb; es para navegadores no preparados para Java.

Cuando lo ejecutamos en el visualizador de applets , el botón de ayuda apareció en la pantalla tal como estaba previsto.
Al pulsar el botón, el único resultado era que surgía el siguiente mensaje: Retrieving example.txt -0 bytes per second .
De todos modos, la ayuda se desplegó inmediatamente al pulsar el botón por segunda vez.

Conclusión: en el código beta de Netscape 2.0 todavía pululan algunos duendes malévolos.

Después de muchos intentos, Java nos permitió construir una interfaz Web mejor que la que hubiéramos podido construir con HTML.
Por otra parte, Java ha demostrado ser un lenguaje más fácil de usar que C++.
Sin embargo, las aplicaciones resultantes todavía son lentas y poco atractivas en comparación con el software tradicional.
El JDK y su documentación correspondiente todavía no están muy bien acabados.
Parece inevitable una rápida mejoría en todas sus áreas y, sin duda, vale la pena esperar.

Andrew Singleton (andy@money.com) es presidente de Cambridge Interactive, empresa de desarrollo de servicios on- line en Internet. 

Reproducido de BYTE, una publicación de McGraw-Hill, Inc.

traducció text de la figura pàgina 129, BYTE, Abril-96 

Entre las herramientas de desarrollo Java hay un editor de código fuente (arriba a la izquierda), soporte técnico en uno de los servicios Web de Sun (arriba a la derecha), la página de un navegador de ejemplo con un applet de Java incluido (abajo a la derecha) y la línea de instrucciones (abajo a la izquierda) para ejecutar el compilador.

El propio applet aparece en la ventana rectangular situada en el centro de la pantalla.
La ventana más pequeña situada más abajo es el visualizador de applets , que permite a los desarrolladores inspeccionar el producto final.

Traducció requadre de text pàgina 129, BYTE, Abril 96 

Puntos débiles de Java 

Los navegadores sólo permiten un acceso limitado de los applets de Java al disco duro.

Olvídese de tener una configuración local o una base de datos persistente.

Los navegadores no permiten que los applets impriman.

El modelo de seguridad Java sólo permite que los applets abran conexiones de tipo socket en sus dominios de origen.
El software «sin fronteras» debe ejecutarse como si fuera una aplicación local.

La apariencia no es portable.
La clase gráfica AWT debe configurarse para una máquina y sistema operativo determinados, con lo que la interfaz de usuario varía mucho.

Traducció codi pàgina 130, BYTE,Abril 96

El applet PopNetHelp public class PopNetHelp 

Crear un objeto a partir de texto de una URL

Uso de extends para implementar la herencia

traducció requadre pàgina 130, BYTE, Abril 96

JAVA FRENTE A C++/VISUAL BASIC 

¿Se convertirá Java en un entorno completo de desarrollo de aplicaciones? 
Los promotores de Java lo han propuesto como una mejora con respecto a C++ para el desarrollo orientado a objetos y como competidor de Visual Basic para el desarrollo gráfico.
Pero Java necesita un compilador de código nativo y un entorno de desarrollo gráfico para realmente competir con C++ y Visual Basic.

- Componentes y elaboración de macros
- Objetos extensibles
- Código fuente portable
- Código objeto portable
- Compilador de código nativo
- Gestor dinámico de memoria, recolector de basura
- Modo seguro
- Medio
- Largo
- Corto

- si
- no
- aún no disponible



traducció requadre de text pàgina 132, BYTE, Abril 96

Alternativas OCX 

Visual Basic es una alternativa a Java que, si bien es menos elegante, está mucho más madura para construir aplicaciones de red.
Object Power ya ofrece una implementación de VB en forma de lenguaje de red a la carta.
El producto que ofrece esta empresa, el Openscape, es un complemento para Netscape que contiene un intérprete del lenguaje clónico de VB desarrollado por Object Power.

Para ejecutar programas Openscape, los usuarios primero tienen que descargar e instalar el código run-time de Openscape y código complementario de Netscape, que puede encontrarse en xxx 
Una vez instalados, el navegador Netscape reconoce marcas de tipo xxx .
Netscape carga el archivo .opp que contiene formas y código VB e invoca al contenedor del complemento para que los interprete, se ocupe de las comunicaciones base de datos/servidor y sirva de plataforma para cualquier control OLE incluido (OCX).
La forma toma vida dentro de una página del World Wide Web.

Los programadores utilizan el denominado Component Workbench para crear formas Openscape.
El Workbench es un clónico del escritorio de VB y un programador que se halle familiarizado con VB puede utilizarlo para crear archivos .opp con código y formas de VB, que pueden descargarse en el Web.

El Openscape ha sido diseñado como frontend del Web para un sistema de base de datos de empresa.
Su módulo run-time cliente utiliza llamadas a procedimientos remotos (RPC) para comunicarse con los servidores de bases de datos.
Openscape es uno de los primeros competidores en la carrera para crear unas nuevas bases de datos clientes muy livianas, que puedan cargarse en los navegadores de Web para proporcionar un desplegamiento global de la base de datos.

En la conferencia del W3 Consortium, celebrado en diciembre, Microsoft mostró una versión alfa de su navegador Internet Explorer Web trabajando como contenedor de OLE.
Los OCX pueden colocarse en una página del Internet Explorer Web con la nueva marca Insert, siempre que el correspondiente servidor OLE ya se halle instalado en el ordenador cliente.

Microsoft también presentó en dicha conferencia un Vbscript OCX, que implementa VB.
Incluido en una página del Web, el control Vbscript ejecuta un programa capaz de responder a eventos del usuario y controlar otros objetos OCX de la misma página.

La inclusión de OCX suscita preguntas. ¿Cómo llegará el código OCX requerido al ordenador cliente?
¿Cómo podrán comprobar los usuarios que procede de un vendedor fiable?
¿Dispondrá de procesos de instalación y desinstalación rápidos y automáticos?
¿Qué ocurrirá con los usuarios que no utilizan Windows?
Microsoft asegura que está trabajando en la tecnología de firmas digitales para aprobar las distribuciones de OCX, la instalación y desinstalación de mejoras del sistema operativo Windows y en tecnología OCX portable o multiplataforma.
